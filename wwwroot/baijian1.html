<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†æœŸç»“ç®—å•æ¨¡æ¿</title>
    <style>
        /* A4å°ºå¯¸è®¾ç½® */
        @page {
            size: A4 landscape;
            margin: 0;
        }
        
        body {
            margin: 0;
            padding: 15mm;
            font-family: 'Microsoft YaHei', 'Segoe UI', sans-serif;
            background-color: #f5f5f5;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        
        .a4-container {
            width: 297mm;
            height: 400mm;
            background: white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            padding: 20mm;
            box-sizing: border-box;
            position: relative;
        }
        
        /* å¤´éƒ¨æ ·å¼ */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            border-bottom: 3px solid #2c5aa0;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        
        .company-info h1 {
            color: #2c5aa0;
            margin: 0 0 5px 0;
            font-size: 28px;
        }
        
        .company-info p {
            margin: 2px 0;
            color: #555;
            font-size: 14px;
        }
        
        .document-title {
            text-align: right;
        }
        
        .document-title h2 {
            margin: 0;
            color: #333;
            font-size: 24px;
            font-weight: bold;
        }
        
        .document-title .document-no {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }
        
        /* åŸºæœ¬ä¿¡æ¯åŒºåŸŸ */
        .info-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .info-block {
            flex: 1;
            min-width: 45%;
            margin-bottom: 10px;
        }
        
        .info-block h3 {
            color: #2c5aa0;
            font-size: 16px;
            margin: 0 0 8px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        
        .info-row {
            display: flex;
            margin-bottom: 6px;
        }
        
        .info-label {
            width: 100px;
            font-weight: bold;
            color: #555;
            font-size: 14px;
        }
        
        .info-content {
            flex: 1;
            color: #333;
            font-size: 14px;
        }
        
        /* å•†å“è¡¨æ ¼åŒºåŸŸ */
        .table-section {
            margin: 20px 0 15px 0;
        }
        
        .table-section h3 {
            color: #2c5aa0;
            font-size: 16px;
            margin: 0 0 10px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        
        th {
            background-color: #f0f5ff;
            color: #2c5aa0;
            font-weight: bold;
            padding: 10px 8px;
            text-align: left;
            border: 1px solid #ddd;
        }
        
        td {
            padding: 8px 8px;
            border: 1px solid #ddd;
            color: #333;
        }
        
        .text-center {
            text-align: center;
        }
        
        .text-right {
            text-align: right;
        }
        
        /* åˆ†æœŸä»˜æ¬¾åŒºåŸŸ */
        .installment-section {
            margin: 20px 0;
        }
        
        .installment-section h3 {
            color: #2c5aa0;
            font-size: 16px;
            margin: 0 0 15px 0;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }
        
        .installment-section h3:before {
            content: "ğŸ’°";
            margin-right: 8px;
            font-size: 18px;
        }
        
        .installment-cards {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        
        .installment-card {
            flex: 1;
            border: 2px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background-color: #f9f9f9;
            transition: all 0.3s ease;
        }
        
        .installment-card.active {
            border-color: #2c5aa0;
            background-color: #f0f5ff;
            box-shadow: 0 4px 8px rgba(44, 90, 160, 0.1);
        }
        
        .installment-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
            padding-bottom: 8px;
            border-bottom: 1px solid #ddd;
        }
        
        .installment-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
        }
        
        .installment-status {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .status-pending {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .status-paid {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .installment-details {
            margin-top: 10px;
        }
        
        .installment-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        .installment-label {
            font-weight: bold;
            color: #555;
        }
        
        .installment-amount {
            font-weight: bold;
            color: #d32f2f;
            font-size: 16px;
        }
        
        .installment-notes {
            margin-top: 12px;
            padding-top: 10px;
            border-top: 1px dashed #ddd;
            font-size: 13px;
            color: #666;
            font-style: italic;
        }
        
        /* é‡‘é¢æ±‡æ€»åŒºåŸŸ */
        .amount-section {
            display: flex;
            justify-content: flex-end;
            margin: 25px 0 20px 0;
        }
        
        .amount-box {
            width: 350px;
            border: 1px solid #ddd;
            padding: 15px;
            background-color: #f9f9f9;
        }
        
        .amount-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 15px;
        }
        
        .total-row {
            font-size: 18px;
            font-weight: bold;
            color: #d32f2f;
            border-top: 2px solid #ddd;
            padding-top: 10px;
            margin-top: 5px;
        }
        
        .installment-total-row {
            font-size: 16px;
            font-weight: bold;
            color: #2c5aa0;
            border-top: 1px dashed #ddd;
            padding-top: 8px;
            margin-top: 8px;
        }
        
        /* é“¶è¡Œä¿¡æ¯åŒºåŸŸ */
        .bank-section {
            border: 2px solid #2c5aa0;
            padding: 15px;
            background-color: #f0f5ff;
            margin-top: 20px;
        }
        
        .bank-section h3 {
            color: #2c5aa0;
            margin: 0 0 15px 0;
            font-size: 18px;
            display: flex;
            align-items: center;
        }
        
        .bank-section h3:before {
            content: "ğŸ’³";
            margin-right: 8px;
            font-size: 20px;
        }
        
        .bank-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 12px;
        }
        
        .bank-item {
            display: flex;
        }
        
        .bank-label {
            width: 100px;
            font-weight: bold;
            color: #333;
            font-size: 14px;
        }
        
        .bank-content {
            flex: 1;
            color: #222;
            font-size: 14px;
        }
        
        .payment-instructions {
            margin-top: 15px;
            padding: 12px;
            background-color: #fff;
            border-left: 4px solid #28a745;
            font-size: 14px;
        }
        
        /* åº•éƒ¨åŒºåŸŸ */
        .footer {
            display: flex;
            justify-content: space-between;
            margin-top: 25px;
            padding-top: 15px;
            border-top: 1px solid #ddd;
            font-size: 14px;
            color: #666;
        }
        
        .signature-area {
            min-width: 200px;
        }
        
        .terms {
            max-width: 400px;
        }
        
        /* æ‰“å°ä¼˜åŒ– */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            
            .a4-container {
                box-shadow: none;
                padding: 15mm;
                width: 100%;
                height: 100%;
            }
            
            .no-print {
                display: none;
            }
            
            .installment-cards {
                page-break-inside: avoid;
            }
        }
        
        /* æ“ä½œæŒ‰é’® */
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100;
        }
        
        .btn {
            background-color: #2c5aa0;
            color: white;
            border: none;
            padding: 10px 15px;
            margin-left: 10px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .btn:hover {
            background-color: #1d3f7a;
        }
        
        .btn-print {
            background-color: #28a745;
        }
        
        .btn-print:hover {
            background-color: #218838;
        }
        
        .btn-toggle {
            background-color: #6c757d;
        }
        
        .btn-toggle:hover {
            background-color: #5a6268;
        }
    </style>
</head>
<body>
    <div class="controls no-print">
        <button class="btn" onclick="fillSampleData()">å¡«å……ç¤ºä¾‹æ•°æ®</button>
        <button class="btn btn-toggle" onclick="togglePaymentStatus()">åˆ‡æ¢æ”¯ä»˜çŠ¶æ€</button>
        <button class="btn btn-print" onclick="window.print()">æ‰“å°ç»“ç®—å•</button>
    </div>
    
    <div class="a4-container">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <div class="company-info">
                <h1>å¦é—¨æ˜Ÿè·¯ç½‘ç»œç§‘æŠ€æœ‰é™å…¬å¸</h1>
                <p>åœ°å€ï¼šç¦å»ºçœå¦é—¨å¸‚æ¹–é‡ŒåŒºä¸œå®…é‡Œ3å·</p>
                <p>è”ç³»äººï¼šåˆ˜å¥³å£«</p>
                <p>ç”µè¯ï¼š15960296796</p>
            </div>
            <div class="document-title">
                <h2>åˆ†æœŸä»˜æ¬¾ç»“ç®—å•</h2>
                <div class="document-no">å•æ®ç¼–å·ï¼š<span id="invoiceNo">INV-2023-00128</span></div>
            </div>
        </div>
        
        <!-- åŸºæœ¬ä¿¡æ¯ -->
        <div class="info-section">
            <div class="info-block">
                <h3>å®¢æˆ·ä¿¡æ¯</h3>
                <div class="info-row">
                    <div class="info-label">å®¢æˆ·åç§°ï¼š</div>
                    <div class="info-content" id="clientName">[å®¢æˆ·å…¬å¸/ä¸ªäººåç§°]</div>
                </div>
                <div class="info-row">
                    <div class="info-label">è”ç³»äººï¼š</div>
                    <div class="info-content" id="contactPerson">[è”ç³»äººå§“å]</div>
                </div>
                <div class="info-row">
                    <div class="info-label">è”ç³»ç”µè¯ï¼š</div>
                    <div class="info-content" id="contactPhone">[è”ç³»ç”µè¯]</div>
                </div>
<!--                <div class="info-row">
                    <div class="info-label">é¡¹ç›®åç§°ï¼š</div>
                    <div class="info-content" id="projectName">[é¡¹ç›®åç§°]</div>
                </div>-->
            </div>
            
            <div class="info-block">
                <h3>ç»“ç®—ä¿¡æ¯</h3>
                <div class="info-row">
                    <div class="info-label">ç»“ç®—æ—¥æœŸï¼š</div>
                    <div class="info-content" id="invoiceDate">[å¹´-æœˆ-æ—¥]</div>
                </div>
                <div class="info-row">
                    <div class="info-label">ä»˜æ¬¾æ–¹å¼ï¼š</div>
                    <div class="info-content" id="paymentMethod">åˆ†æœŸä»˜æ¬¾ï¼ˆé¦–æ¬¾+å°¾æ¬¾ï¼‰</div>
                </div>
<!--                <div class="info-row">
                    <div class="info-label">ä¸šåŠ¡ç»ç†ï¼š</div>
                    <div class="info-content" id="salesPerson">[æ‚¨çš„å§“å]</div>
                </div>-->
                <div class="info-row">
                    <div class="info-label">è®¢å•æ€»é¢ï¼š</div>
                    <div class="info-content" id="orderTotal">Â¥0.00</div>
                </div>
            </div>
        </div>
        
        <!-- å•†å“/æœåŠ¡è¡¨æ ¼ -->
        <div class="table-section">
            <h3>å•†å“/æœåŠ¡æ¸…å•</h3>
            <table id="itemsTable">
                <thead>
                    <tr>
                        <th width="5%">åºå·</th>
                        <th width="40%">å•†å“åç§° / æœåŠ¡é¡¹ç›®</th>
                        <th width="15%">è§„æ ¼å‹å·(cm)</th>
                        <th width="10%">å•ä½</th>
                        <th width="10%">æ•°é‡</th>
                        <th width="10%">å•ä»·(å…ƒ)</th>
                        <th width="10%">é‡‘é¢(å…ƒ)</th>
                    </tr>
                </thead>
                <tbody id="itemsBody">
                    <!-- æ•°æ®å°†é€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </tbody>
            </table>
        </div>
        
        <!-- åˆ†æœŸä»˜æ¬¾ä¿¡æ¯ -->
        <div class="installment-section">
            <h3>åˆ†æœŸä»˜æ¬¾è¯¦æƒ…</h3>
            <div class="installment-cards">
                <!-- é¦–æ¬¾å¡ç‰‡ -->
                <div class="installment-card active" id="firstPaymentCard">
                    <div class="installment-header">
                        <div class="installment-title">é¦–æœŸä»˜æ¬¾</div>
                        <div class="installment-status status-pending" id="firstPaymentStatus">å¾…æ”¯ä»˜</div>
                    </div>
                    <div class="installment-details">
                        <div class="installment-row">
                            <span class="installment-label">åº”ä»˜æ¯”ä¾‹ï¼š</span>
                            <span id="firstPaymentPercent">50%</span>
                        </div>
                        <div class="installment-row">
                            <span class="installment-label">åº”ä»˜é‡‘é¢ï¼š</span>
                            <span class="installment-amount" id="firstPaymentAmount">Â¥0.00</span>
                        </div>
                        <div class="installment-row">
                            <span class="installment-label">ä»˜æ¬¾æˆªæ­¢ï¼š</span>
                            <span id="firstPaymentDue">[å¹´-æœˆ-æ—¥]</span>
                        </div>
                        <div class="installment-row">
                            <span class="installment-label">ä»˜æ¬¾æ¡ä»¶ï¼š</span>
                            <span>è®¢å•ç¡®è®¤åæ”¯ä»˜</span>
                        </div>
                    </div>
                    <div class="installment-notes" id="firstPaymentNotes">
                        é¦–æ¬¾æ”¯ä»˜åå¼€å§‹æ‰§è¡Œè®¢å•/é¡¹ç›®ã€‚
                    </div>
                </div>
                
                <!-- å°¾æ¬¾å¡ç‰‡ -->
                <div class="installment-card" id="finalPaymentCard">
                    <div class="installment-header">
                        <div class="installment-title">å°¾æœŸä»˜æ¬¾</div>
                        <div class="installment-status status-pending" id="finalPaymentStatus">å¾…æ”¯ä»˜</div>
                    </div>
                    <div class="installment-details">
                        <div class="installment-row">
                            <span class="installment-label">åº”ä»˜æ¯”ä¾‹ï¼š</span>
                            <span id="finalPaymentPercent">50%</span>
                        </div>
                        <div class="installment-row">
                            <span class="installment-label">åº”ä»˜é‡‘é¢ï¼š</span>
                            <span class="installment-amount" id="finalPaymentAmount">Â¥0.00</span>
                        </div>
                        <div class="installment-row">
                            <span class="installment-label">ä»˜æ¬¾æˆªæ­¢ï¼š</span>
                            <span id="finalPaymentDue">[å¹´-æœˆ-æ—¥]</span>
                        </div>
                        <div class="installment-row">
                            <span class="installment-label">ä»˜æ¬¾æ¡ä»¶ï¼š</span>
                            <span>å‘è´§å‰æ”¯ä»˜</span>
                        </div>
                    </div>
                    <div class="installment-notes" id="finalPaymentNotes">
                        å°¾æ¬¾æ”¯ä»˜åå®Œæˆè®¢å•/é¡¹ç›®äº¤ä»˜ã€‚
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é‡‘é¢æ±‡æ€» -->
        <div class="amount-section">
            <div class="amount-box">
                <div class="amount-row">
                    <span>å°è®¡ï¼š</span>
                    <span id="subtotal">0.00</span>
                </div>
                <div class="amount-row">
                    <span>ç¨é¢ï¼š</span>
                    <span id="taxAmount">0.00</span>
                </div>
<!--                <div class="amount-row">
                    <span>ä¼˜æƒ /æŠ˜æ‰£ï¼š</span>
                    <span id="discount">0.00</span>
                </div>-->
                <div class="amount-row total-row">
                    <span>è®¢å•æ€»é‡‘é¢ï¼š</span>
                    <span id="totalAmount">0.00</span>
                </div>
                <div class="amount-row installment-total-row">
                    <span>é¦–æœŸåº”ä»˜ï¼š</span>
                    <span id="firstPaymentTotal">0.00</span>
                </div>
                <div class="amount-row installment-total-row">
                    <span>å°¾æœŸåº”ä»˜ï¼š</span>
                    <span id="finalPaymentTotal">0.00</span>
                </div>
            </div>
        </div>
        
        <!-- é“¶è¡Œä¿¡æ¯ -->
        <div class="bank-section">
            <h3>æ”¶æ¬¾é“¶è¡Œä¿¡æ¯</h3>
            <div class="bank-info">
                <div class="bank-item">
                    <div class="bank-label">å¼€æˆ·åç§°ï¼š</div>
                    <div class="bank-content" id="accountName">[æ‚¨çš„å…¬å¸é“¶è¡Œè´¦æˆ·åç§°]</div>
                </div>
                <div class="bank-item">
                    <div class="bank-label">å¼€æˆ·é“¶è¡Œï¼š</div>
                    <div class="bank-content" id="bankName">[æ‚¨çš„å¼€æˆ·é“¶è¡Œåç§°]</div>
                </div>
                <div class="bank-item">
                    <div class="bank-label">é“¶è¡Œè´¦å·ï¼š</div>
                    <div class="bank-content" id="accountNumber">[æ‚¨çš„é“¶è¡Œè´¦å·]</div>
                </div>
                <div class="bank-item">
                    <div class="bank-label">å¼€æˆ·è¡Œåœ°å€ï¼š</div>
                    <div class="bank-content" id="branchInfo">[å¼€æˆ·æ”¯è¡Œè¯¦ç»†ä¿¡æ¯]</div>
                </div>
                <div class="bank-item">
                    <div class="bank-label">SWIFT Codeï¼š</div>
                    <div class="bank-content" id="swiftCode">[SWIFT/BIC Code]</div>
                </div>
            </div>
<!--            <div class="payment-instructions">
                <strong>ä»˜æ¬¾è¯´æ˜ï¼š</strong>
                <p>1. è¯·æŒ‰åˆ†æœŸä»˜æ¬¾è®¡åˆ’åŠæ—¶æ”¯ä»˜ç›¸åº”æ¬¾é¡¹ï¼Œæ”¯ä»˜æ—¶è¯·å¤‡æ³¨"å•æ®ç¼–å·+æœŸæ•°"ï¼ˆå¦‚ï¼šINV-2023-00128-é¦–æœŸï¼‰</p>
                <p>2. é¦–æ¬¾æ”¯ä»˜åå¼€å§‹æ‰§è¡Œè®¢å•/é¡¹ç›®ï¼Œå°¾æ¬¾æ”¯ä»˜åå®Œæˆäº¤ä»˜</p>
                <p>3. å¦‚æœ‰ä»»ä½•ä»˜æ¬¾é—®é¢˜ï¼Œè¯·åŠæ—¶è”ç³»å¯¹æ¥äººå‘˜</p>
            </div>-->
        </div>
        
        <!-- åº•éƒ¨ -->
        <div class="footer">
            <div class="terms">
                <p>æ„Ÿè°¢æ‚¨çš„åˆä½œï¼å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·éšæ—¶ä¸æˆ‘ä»¬è”ç³»ã€‚</p>
                <p>æœ¬ç»“ç®—å•è‡ªå¼€å…·ä¹‹æ—¥èµ·30å¤©å†…æœ‰æ•ˆ</p>
            </div>
            <div class="signature-area">
                <p>å®¢æˆ·ç¡®è®¤ï¼š___________________</p>
                <p>æ—¥æœŸï¼š___________________</p>
<!--                <p style="margin-top: 15px;">å…¬å¸ç›–ç« ï¼š___________________</p>
                <p>æ—¥æœŸï¼š___________________</p>-->
            </div>
        </div>
    </div>
    
    <script>
        // é»˜è®¤å•†å“æ•°æ®
        const defaultItems = [
            { name: "é©¬ä¸Šæœ‰é’±-å”é©¬", spec: "13.5*8.5*14", unit: "ä»¶", quantity: 400, price: 130.00 },
            { name: "è¿è¾“è´¹", spec: "å›½å†…åŒ…é‚®", unit: "æ¬¡", quantity: 1, price: 0.00 },
//            { name: "UI/UXè®¾è®¡", spec: "å®šåˆ¶è®¾è®¡", unit: "å¥—", quantity: 1, price: 3000.00 },
//            { name: "åŸŸåæ³¨å†Œ", spec: ".com ä¸€å¹´", unit: "ä¸ª", quantity: 1, price: 120.00 },
//            { name: "SSLè¯ä¹¦", spec: "DVè¯ä¹¦", unit: "å¹´", quantity: 1, price: 800.00 },
//            { name: "ç½‘ç«™ç»´æŠ¤", spec: "ä¸€å¹´æœåŠ¡", unit: "å¹´", quantity: 1, price: 2000.00 }
        ];
        
        // åˆ†æœŸä»˜æ¬¾é…ç½®
        let paymentConfig = {
            firstPaymentPercent: 50, // é¦–æ¬¾ç™¾åˆ†æ¯”
            finalPaymentPercent: 50, // å°¾æ¬¾ç™¾åˆ†æ¯”
            firstPaymentStatus: 'pending', // pending, paid
            finalPaymentStatus: 'pending' // pending, paid
        };
        
        // åˆå§‹åŒ–è¡¨æ ¼
        function renderItemsTable(items) {
            const itemsBody = document.getElementById('itemsBody');
            itemsBody.innerHTML = '';
            
            let subtotal = 0;
            
            items.forEach((item, index) => {
                const amount = item.quantity * item.price;
                subtotal += amount;
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="text-center">${index + 1}</td>
                    <td>${item.name}</td>
                    <td>${item.spec}</td>
                    <td class="text-center">${item.unit}</td>
                    <td class="text-center">${item.quantity}</td>
                    <td class="text-right">${item.price.toFixed(2)}</td>
                    <td class="text-right">${amount.toFixed(2)}</td>
                `;
                itemsBody.appendChild(row);
            });
            
            // è®¡ç®—é‡‘é¢
            const taxRate = 0; // 13%ç¨ç‡
            const taxAmount = subtotal * taxRate;
            const discount = 0; // ç¤ºä¾‹æŠ˜æ‰£é‡‘é¢
            const totalAmount = subtotal + taxAmount - discount;
            
            // è®¡ç®—åˆ†æœŸä»˜æ¬¾é‡‘é¢
            const firstPaymentAmount = (totalAmount * paymentConfig.firstPaymentPercent / 100);
            const finalPaymentAmount = (totalAmount * paymentConfig.finalPaymentPercent / 100);
            
            // æ›´æ–°é‡‘é¢æ˜¾ç¤º
            document.getElementById('subtotal').textContent = 'Â¥' + subtotal.toFixed(2);
            document.getElementById('taxAmount').textContent = 'Â¥' + taxAmount.toFixed(2);
//            document.getElementById('discount').textContent = 'Â¥' + discount.toFixed(2);
            document.getElementById('totalAmount').textContent = 'Â¥' + totalAmount.toFixed(2);
            document.getElementById('orderTotal').textContent = 'Â¥' + totalAmount.toFixed(2);
            
            document.getElementById('firstPaymentPercent').textContent = paymentConfig.firstPaymentPercent + '%';
            document.getElementById('firstPaymentAmount').textContent = 'Â¥' + firstPaymentAmount.toFixed(2);
            document.getElementById('firstPaymentTotal').textContent = 'Â¥' + firstPaymentAmount.toFixed(2);
            
            document.getElementById('finalPaymentPercent').textContent = paymentConfig.finalPaymentPercent + '%';
            document.getElementById('finalPaymentAmount').textContent = 'Â¥' + finalPaymentAmount.toFixed(2);
            document.getElementById('finalPaymentTotal').textContent = 'Â¥' + finalPaymentAmount.toFixed(2);
            
            // æ›´æ–°ä»˜æ¬¾çŠ¶æ€æ˜¾ç¤º
            updatePaymentStatusDisplay();
        }
        
        // æ›´æ–°ä»˜æ¬¾çŠ¶æ€æ˜¾ç¤º
        function updatePaymentStatusDisplay() {
            const firstStatusElement = document.getElementById('firstPaymentStatus');
            const finalStatusElement = document.getElementById('finalPaymentStatus');
            const firstCard = document.getElementById('firstPaymentCard');
            const finalCard = document.getElementById('finalPaymentCard');
            
            if (paymentConfig.firstPaymentStatus === 'paid') {
                firstStatusElement.textContent = 'å·²æ”¯ä»˜';
                firstStatusElement.className = 'installment-status status-paid';
                firstCard.classList.add('active');
            } else {
                firstStatusElement.textContent = 'å¾…æ”¯ä»˜';
                firstStatusElement.className = 'installment-status status-pending';
                firstCard.classList.remove('active');
            }
            
            if (paymentConfig.finalPaymentStatus === 'paid') {
                finalStatusElement.textContent = 'å·²æ”¯ä»˜';
                finalStatusElement.className = 'installment-status status-paid';
                finalCard.classList.add('active');
            } else {
                finalStatusElement.textContent = 'å¾…æ”¯ä»˜';
                finalStatusElement.className = 'installment-status status-pending';
                finalCard.classList.remove('active');
            }
            
            // å¦‚æœé¦–æ¬¾å·²æ”¯ä»˜ï¼Œæ¿€æ´»å°¾æ¬¾å¡ç‰‡
            if (paymentConfig.firstPaymentStatus === 'paid') {
                finalCard.classList.add('active');
            }
        }
        
        // åˆ‡æ¢ä»˜æ¬¾çŠ¶æ€
        function togglePaymentStatus() {
            if (paymentConfig.firstPaymentStatus === 'pending') {
                paymentConfig.firstPaymentStatus = 'paid';
            } else if (paymentConfig.finalPaymentStatus === 'pending') {
                paymentConfig.finalPaymentStatus = 'paid';
            } else {
                // é‡ç½®çŠ¶æ€
                paymentConfig.firstPaymentStatus = 'pending';
                paymentConfig.finalPaymentStatus = 'pending';
            }
            
            updatePaymentStatusDisplay();
            
            // æ˜¾ç¤ºå½“å‰çŠ¶æ€
            let statusMessage = "å½“å‰çŠ¶æ€ï¼š";
            if (paymentConfig.firstPaymentStatus === 'paid') {
                statusMessage += "é¦–æ¬¾å·²æ”¯ä»˜ï¼Œ";
            } else {
                statusMessage += "é¦–æ¬¾å¾…æ”¯ä»˜ï¼Œ";
            }
            
            if (paymentConfig.finalPaymentStatus === 'paid') {
                statusMessage += "å°¾æ¬¾å·²æ”¯ä»˜";
            } else {
                statusMessage += "å°¾æ¬¾å¾…æ”¯ä»˜";
            }
            
            alert(statusMessage);
        }
        
        // å¡«å……ç¤ºä¾‹æ•°æ®
        function fillSampleData() {
            // å¡«å……å®¢æˆ·ä¿¡æ¯
            document.getElementById('clientName').textContent = 'Azimut Investment Management Singapore Ltd.';
            document.getElementById('contactPerson').textContent = 'Jaselyn Teo';
            document.getElementById('contactPhone').textContent = '+65 6958 4125';
//            document.getElementById('projectName').textContent = 'ä¼ä¸šå®˜ç½‘å¼€å‘é¡¹ç›®';
            
            // å¡«å……æ—¥æœŸä¿¡æ¯
            const today = new Date();
            const firstDueDate = new Date(today);
            firstDueDate.setDate(today.getDate() + 6);
            
            const finalDueDate = new Date(today);
            finalDueDate.setDate(today.getDate() + 34);
            
            document.getElementById('invoiceDate').textContent = today.toISOString().split('T')[0];
            document.getElementById('firstPaymentDue').textContent = firstDueDate.toISOString().split('T')[0];
            document.getElementById('finalPaymentDue').textContent = finalDueDate.toISOString().split('T')[0];
//            document.getElementById('salesPerson').textContent = 'å¼ ç»ç†';
            
            // å¡«å……é“¶è¡Œä¿¡æ¯
            document.getElementById('accountName').textContent = 'Xiamen Xinglu Network Technology Co., Ltd.';
            document.getElementById('bankName').textContent = 'China Merchants Bank.Xiamen Branch';
            document.getElementById('accountNumber').textContent = '592908670710701';
            document.getElementById('branchInfo').textContent = '18 Consulate Road, Siming District, Xiamen city';
            document.getElementById('swiftCode').textContent = 'CMBCCNBS471';
            
            // ç”Ÿæˆéšæœºå•æ®ç¼–å·
            const randomNum = Math.floor(Math.random() * 1000).toString().padStart(3, '0');
//            document.getElementById('invoiceNo').textContent = `INV-${today.getFullYear()}-${(today.getMonth()+1).toString().padStart(2, '0')}${randomNum}`;
            document.getElementById('invoiceNo').textContent ='INV-2025-12600';
            
            // è®¾ç½®åˆ†æœŸæ¯”ä¾‹ï¼ˆå¯ä»¥ä¿®æ”¹ï¼‰
            paymentConfig.firstPaymentPercent = 50;
            paymentConfig.finalPaymentPercent = 50;
            paymentConfig.firstPaymentStatus = 'pending';
            paymentConfig.finalPaymentStatus = 'pending';
            
            // æ¸²æŸ“å•†å“è¡¨æ ¼
            renderItemsTable(defaultItems);
            
            // æ›´æ–°ä»˜æ¬¾çŠ¶æ€æ˜¾ç¤º
            updatePaymentStatusDisplay();
            
            // æ›´æ–°ä»˜æ¬¾å¤‡æ³¨
            document.getElementById('firstPaymentNotes').textContent = 'é¦–æ¬¾æ”¯ä»˜åå¼€å§‹åˆ¶ä½œï¼Œé¢„è®¡å·¥æœŸ35å¤©ã€‚';
            document.getElementById('finalPaymentNotes').textContent = 'å°¾æ¬¾æ”¯ä»˜åå¼€å§‹å‘è´§ã€‚';
            
            alert('ç¤ºä¾‹æ•°æ®å·²å¡«å……ï¼æ‚¨å¯ä»¥ä½¿ç”¨"åˆ‡æ¢æ”¯ä»˜çŠ¶æ€"æŒ‰é’®æ¨¡æ‹Ÿä»˜æ¬¾è¿‡ç¨‹ã€‚');
        }
        
        // é¡µé¢åŠ è½½æ—¶æ¸²æŸ“ç©ºè¡¨æ ¼
        window.onload = function() {
            renderItemsTable([]);
        };
    </script>
</body>
</html>